<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Prototipo – Ejecutivo de evaluación de clientes corporativos</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<h1>Ejecutivo de evaluación para clientes corporativos</h1>

<section class="card">
  <h2>Métricas del Cliente</h2>

  <label>Nivel de servicio (%)</label>
  <input type="number" id="servicio" value="0">

  <label>Puntualidad (%)</label>
  <input type="number" id="puntualidad" value="0">

  <label>NPS actual</label>
  <input type="number" id="npsActual" value="0">

  <label>NPS histórico</label>
  <input type="text" id="npsHistorico" value="0, 0, 0">

  <label>Quejas abiertas</label>
  <input type="number" id="quejas" value="0">

  <label>Antigüedad de quejas (días)</label>
  <input type="number" id="dias" value="0">

  <button onclick="evaluarRiesgo()">Evaluar Riesgo</button>
</section>

<section class="card">
  <h2>Semáforo de Riesgo</h2>
  <div id="semaforo" class="semaforo gris">Sin evaluar</div>
</section>

<section class="card">
  <h2>Acciones Preventivas Sugeridas</h2>
  <ul id="acciones">
    <li>En espera de evaluación...</li>
  </ul>
</section>

<script>
function evaluarRiesgo() {

  const servicio = servicioInput = Number(document.getElementById("servicio").value);
  const puntualidad = Number(document.getElementById("puntualidad").value);
  const nps = Number(document.getElementById("npsActual").value);
  const quejas = Number(document.getElementById("quejas").value);
  const dias = Number(document.getElementById("dias").value);

  let score = 0;


  if (servicio < 90) score += 20;
  if (puntualidad < 90) score += 20;
  if (nps < 70) score += 30;
  if (quejas > 0) score += 15;
  if (dias > 10) score += 15;

  mostrarSemaforo(score);
  mostrarAcciones(score);
}

function mostrarSemaforo(score) {
  const semaforo = document.getElementById("semaforo");

  if (score <= 30) {
    semaforo.className = "semaforo verde";
    semaforo.textContent = "RIESGO BAJO";
  } else if (score <= 60) {
    semaforo.className = "semaforo amarillo";
    semaforo.textContent = "RIESGO MEDIO";
  } else if (score <= 80) {
    semaforo.className = "semaforo naranja";
    semaforo.textContent = "RIESGO ALTO";
  } else {
    semaforo.className = "semaforo rojo";
    semaforo.textContent = "RIESGO CRÍTICO";
  }
}

function mostrarAcciones(score) {
  const acciones = document.getElementById("acciones");
  acciones.innerHTML = "";

  if (score <= 30) {
    acciones.innerHTML += "<li>Seguimiento normal</li>";
  } else if (score <= 60) {
    acciones.innerHTML += "<li>Llamada preventiva al cliente</li>";
    acciones.innerHTML += "<li>Revisión de indicadores operativos</li>";
  } else if (score <= 80) {
    acciones.innerHTML += "<li>Visita ejecutiva prioritaria</li>";
    acciones.innerHTML += "<li>Plan de mejora operativa</li>";
    acciones.innerHTML += "<li>Seguimiento semanal</li>";
  } else {
    acciones.innerHTML += "<li>Contacto inmediato con decisor</li>";
    acciones.innerHTML += "<li>Comité interno de contingencia</li>";
    acciones.innerHTML += "<li>Propuesta de retención personalizada</li>";
  }
}
</script>

</body>
</html>


